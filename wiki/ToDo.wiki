#summary The 1.0 TODO List
#labels Phase-Design

=== !BibApp 1.0 Todo: ===

  * *Item (Timeframe | Owner)*

  * ~~*Rails 2.1 Upgrade*~~
    * Begin Using Named Scopes (where applicable)
    * Look into new caching options
    * Add Gem Dependencies

  * *Documentation (Ongoing | Everyone - Eric)*
    * Admin Documentation
      * How to create citations, people, groups
      * How to edit authorities
      * How to verify/deny contributorships 
      * How to archive research in a repository
    * Videocast of major interface features

  * *Authorities*
    * rake script to pull UW-Madison and UIUC authority data
    * Use Active::Resource

  * *Authorization (After JCDL | Anyone)*
    * Cleanup views having to do with adding/removing authorization roles... they could look a little nicer.

  * *Citations (Anyone | ASAP)*
    * *Bug* - Some bad publication date years (ex. 6) cause the citations/edit form's publication date year select options to range badly (ex. 1950-11) 
    * *Bug* - Citation author names over 6 should be dealt with appropriately
    * ~~*Bug* - YAML and JSON views are broken for citations, again...~~ (Seemingly fixed by 2.1 upgrade)
    * [http://bibliontology.com/ Bibliographic Ontology] - ramifications? (Everyone | July conference call)
    * Deduplication
      * Admin Dupe view
      * Implement string distance methods?
      * Investigate [http://amatch.rubyforge.org/ amatch]

  * *File Uploads* (Anyone | ?)
    * *Bug* - File upload does not work in Safari 3.1.1

  * *NameStrings*
    * Make a "machine" friendly db column
    * RegEx Recipe
      * Commas and periods become spaces
      * Replace more than one space with a single space
      * Trim!
      * Example ("Smith, J.H." => "smith j h " => "smith j h")
    * Automatically add PenNames upon Person.create
      * We should be able to guess a couple upon input
      * Example ("John Smith" => "smith j")
      * Example ("John Smith" => "smith") # Not sure about this one...

  * *Search (Eric)*
    * *Bugs:*
      * ~~Add param for rows~~
      * ~~Add rows param to filters~~
      * ~~Add rows param to search form select options~~
      * `"Nano*"` and `"nano*"` return different results!?!
      * ~~*Bug* Sorting results when there is multiple filters results in the filters being combined into one filter.~~
      * ~~*Bug* The year filter gives back results with years other than that of the filter.~~ - This bug seems to be fixed and I believe it was linked to the 'nil' publication date problem in solr.

    * *Missing Features:*
      * Advanced Search?
      * XSLT2RSS?

  * *SHERPA RoMEO data (Eric)*
    * Sherpa's api data is not cached on their server
    * net/http will *always* timeout
    * added /public/sherpa/publishers.xml file
    * Publisher.update_sherpa_data method groks over this xml file
    * Update will have to be via a manual download
    * We'll include a local copy in BibApp truck

  * *Speed*
    * Move more views entirely into Solr
    * Rails caching
    * Asynchronous tasks
      * Citation import especially
      * Investigate [http://xph.us/software/beanstalkd/ beanstalkd]
      * Investigate [http://async-observer.rubyforge.org/ Async Observer]
    * Session based IP/OpenURL path

  * *Styles / IA (Ongoing | Eric)*
    * Citations show - needs major cleanup!
    * Groups index
    * People index
    * Print CSS (started...)
    * *Bug* `&heart;` displays poorly in some browsers (firefox 2 on mac), make an image of it.
    
  * *Terminology (June | Everyone?)*
    * Remove 'citation' terminology...replace with 'research'?

  * *Views (Ongoing | Everyone?)*
    * ~~Admin view (link added for admins with system rights)~~
    * People/index view should allow filtering via group_id
    * Groups/index view should allow filtering via (parent_group_id)
    * Groups/index view: Parent/Child groups presentation
    * Citations/show view: Abstract / keywords show when copyright is clear
    * Citations/show view: Move links to archived content files up by the "Find It" link?  If file is archived in local repository, should we even show the "Find It" link?
    * ~~Citations/apa templates: Create APA templates for all Citation types (or at least a "default" APA template which can be used if a type-specific one isn't found)~~
    * ~~Citations/forms templates: Create edit/new forms for all Citation types (or at least a "default" form which can be used if a type-specific one isn't found)~~
    * ~~Publishers/new view: Cleanup? - especially giant select box~~
    * ~~Publications/new view: Cleanup? - especially giant select box~~
    * ~~Publication lists (in general):  Is there anyway to filter out the "Unknown" publication name which appears for Books?~~
    * Person/new view: Cleanup? - ~~put LDAP search at Top~~
    * PenNames/new view: Suggestions are totally wacky... remove initial last_name search?
    * ~~Contributorships View: *Bug* - Clicking "verify" next to two citations in a row ends displays an RJS Error (even though the verification actually seems to work)~~
    * Memberships/index view: should list memberships for ?person_id=2, or even better, show memberships for memberships/2-Matthew_S_Allen
    * Contributorships : It'd be nice to have a way to check multiple citations and click "Verify" or "Deny" once.  It's a bit of a pain to go one-by-one when you know multiple are either valid or not.

  * *Person*
    * ~~*Bug* - editing Group/Memberships (ex. adding a title) throws the :after_save methods to update all Person.citation in Solr ~~
    * ~~*Bug* - Updating all Person.citations in Solr does not happen when a membership is deleted. This *must happen*.~~
    * Display / Design: indicate a "stub" entry, versus a completed entry
      * CSS or image for doing this
      * Make this the default true in the database

  * *Group*
    * ~~*Bug* Deleting a group does *not* delete the groups corresponding memberships, causing many errors. See comment below.~~
    * ~~*Bug* You shouldn't be able to delete groups... just _hide_ them.~~

  * *Membership*
    * A person should be allowed to have multiple memberships to the same group.  This will require some new logic.  Currently throughout the application it is required that there only be one membership for each person and group.
    * ~~*Bug*: Adding a title to a membership does not save.  This is cause by Permissions. In the method "edit_time" in the memberships controller, the call to 'permit'  does not allow an update, even if you should have permission.~~

  * *Citation ingest (June? | Conference call)*
    * Implement:
      * [http://wing.comp.nus.edu.sg/parsCit/ ParsCit] importer
        # Website includes a sample Ruby API script
        # Make Ruby plugin (Eric | Due: July 15th)
      * simple pubmed API ingest
        # UW-Madison Ebling Library partners have experience here
        # Hold meeting and report back (Eric | Due: July 15th)
      * simple ISI ingest
      * simple arXiv API
    * ~~Add newer RefWorks XML format~~
    * Better error handling for bulk ingest!  
      * Currently, if one citation errors out, the entire bulk ingest process halts.  It'd be better to note which citations error, and provide an error report at the end of the bulk import.
      * Create error report (ex. X good | X bad results)

  * *Citation export (July | Conference call)*
    * Liam M. has continued work on citeproc-rb
    * Contacted Liam offering assistance - Eric 6.30.2008

  * *SWORD* (Tim | July?)
    * Test Fedora
    * Test Eprints
    * Bulk send?

  * *Tests (Ongoing | Everyone?)*
    * Add Fixtures
    * Write functional tests for all controllers
    * Write unit tests for all models